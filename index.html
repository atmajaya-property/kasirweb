<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Aplikasi Kasir Web</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<!-- STRUK SEDERHANA -->
<div class="struk-container" id="strukContainer">
  <div class="struk-header">
    <h2 id="strukStoreName">TOKO KITA</h2>
  </div>
  <div class="struk-tanggal" id="strukDate"></div>
  <table class="struk-table">
    <thead>
      <tr>
        <th>Item</th>
        <th>Harga</th>
        <th>Total</th>
      </tr>
    </thead>
    <tbody id="strukItems"></tbody>
    <tfoot id="strukTotals"></tfoot>
  </table>
  <div class="struk-footer">
    Terima Kasih
  </div>
</div>

<!-- LOGIN PAGE -->
<div id="loginPage" class="page active">
  <div class="login-card">
    <h2>Login Kasir</h2>
    <input id="username" type="text" placeholder="Username" />
    <input id="password" type="password" placeholder="Password" />
    <button id="loginBtn">Masuk</button>
    <p id="loginMessage" style="color:#ff9b9b;min-height:1.2em;margin-top:8px"></p>
  </div>
</div>

<!-- KASIR PAGE -->
<div id="kasirPage" class="page">
  <header>
    <h1 id="namaToko"></h1>
    <div class="nav-tabs">
      <button class="nav-tab active" data-tab="kasir">💼 Kasir</button>
      <button class="nav-tab" data-tab="manajemen" id="tabManajemen" style="display:none">📦 Management</button>
      <button class="nav-tab" data-tab="toko" id="tabToko" style="display:none">🏪 Toko</button>
      <button class="nav-tab" data-tab="user" id="tabUser" style="display:none">👥 User</button>
      <button class="nav-tab" data-tab="laporan">📊 Laporan</button>
      <button class="nav-tab" data-tab="setting" id="tabSetting" style="display:none">⚙️ Setting</button>
    </div>
    <button id="logoutBtn">Keluar</button>
  </header>

  <!-- TAB KASIR -->
  <div class="tab-content active" data-tab="kasir">
    <div class="container">
      <section class="menu-section">
        <div class="menu-header">
          <h2>📋 Menu</h2>
          <div class="search-wrap">
            <div class="search-input">
              <span class="search-icon">🔍</span>
              <input id="menuSearch" type="search" placeholder="Cari menu..." aria-label="Cari menu" />
              <button id="clearSearch" title="Bersihkan pencarian" style="background:transparent;border:none;color:var(--muted);cursor:pointer">✖</button>
            </div>
          </div>
        </div>

        <div class="menu-list-container">
          <div id="menuList" class="menu-list"></div>
          <div id="menuLoading" style="display:none">
            <div class="spinner"></div><div>Memuat menu...</div>
          </div>
        </div>

        <div class="menu-pagination">
          <button class="pagination-btn" id="prevPage">⏪ Prev</button>
          <span class="pagination-info" id="pageInfo">Hal 1</span>
          <button class="pagination-btn" id="nextPage">Next ⏩</button>
        </div>
      </section>

      <section class="transaksi-section">
        <h2>💰 Transaksi</h2>
        
        <div class="transaksi-content">
          <table id="tblTransaksi">
            <thead>
              <tr>
                <th>Menu</th>
                <th>Harga</th>
                <th>Jml</th>
                <th>Subtotal</th>
                <th></th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>

        <div class="total-area">
          TOTAL: Rp <span id="totalHarga">0</span>
        </div>

        <div class="input-area">
          <div class="cash-display">
            <label>💵 Bayar:</label>
            <div class="cash-amount">
              <span>Rp</span>
              <input id="cashInput" type="text" placeholder="0" value="0" />
            </div>
          </div>
          <div class="kembali-display">
            <label>💰 Kembali:</label>
            <div class="kembali-amount">Rp <span id="uangKembali">0</span></div>
          </div>
        </div>

        <button id="btnSelesai" class="selesai">
          🖨️ Selesai & Cetak
        </button>
      </section>
    </div>
  </div>

  <!-- TAB MANAGEMENT MENU -->
  <div class="tab-content" data-tab="manajemen">
    <section class="manajemen-section">
      <h2>📦 Management Menu</h2>
      
      <!-- Form Input Menu -->
      <div class="form-menu">
        <h3>➕ Tambah/Edit Menu</h3>
        <div class="form-group">
          <label for="inputNamaMenu">Nama Menu:</label>
          <input type="text" id="inputNamaMenu" placeholder="Nama menu">
        </div>
        <div class="form-group">
          <label for="inputKategori">Kategori:</label>
          <select id="inputKategori">
            <option value="">Pilih Kategori</option>
            <option value="Makanan Utama">Makanan Utama</option>
            <option value="Minuman">Minuman</option>
            <option value="Snack">Snack</option>
            <option value="Sembako - Beras & Bijian">Sembako - Beras & Bijian</option>
            <option value="Sembako - Minyak Goreng">Sembako - Minyak Goreng</option>
            <option value="Sembako - Gula & Garam">Sembako - Gula & Garam</option>
            <option value="Sembako - Telur & Susu">Sembako - Telur & Susu</option>
            <option value="Sembako - Bumbu Dapur">Sembako - Bumbu Dapur</option>
            <option value="Lainnya">Lainnya</option>
          </select>
        </div>
        <div class="form-group">
          <label for="inputHarga">Harga (Rp):</label>
          <input type="number" id="inputHarga" placeholder="0" min="0">
        </div>
        <div class="form-group">
          <label for="inputStok">Stok:</label>
          <input type="number" id="inputStok" placeholder="0" min="0" value="0">
        </div>
        <div class="form-group">
          <label for="inputToko">Toko:</label>
          <select id="inputToko">
            <option value="current">Toko Saat Ini</option>
            <option value="ALL">Semua Toko (Global)</option>
          </select>
        </div>
        <div class="form-actions">
          <button id="btnSimpanMenu" class="btn btn-primary">💾 Simpan Menu</button>
          <button id="btnBatalEdit" class="btn btn-secondary" style="display:none">❌ Batal Edit</button>
          <span id="menuIdDisplay" style="color:var(--muted);font-size:0.8rem;margin-left:10px;"></span>
        </div>
      </div>

      <!-- Daftar Menu -->
      <div class="daftar-menu">
        <h3>📋 Daftar Menu</h3>
        <div class="search-wrap">
          <input type="text" id="searchMenuManagement" placeholder="🔍 Cari menu..." class="search-input">
        </div>
        <div class="table-container">
          <table class="manajemen-table">
            <thead>
              <tr>
                <th>ID</th>
                <th>Nama Menu</th>
                <th>Kategori</th>
                <th>Harga</th>
                <th>Stok</th>
                <th>Toko</th>
                <th>Aksi</th>
              </tr>
            </thead>
            <tbody id="daftarMenuBody">
              <!-- Data menu akan diisi oleh JavaScript -->
            </tbody>
          </table>
        </div>
      </div>
    </section>
  </div>

  <!-- TAB MANAGEMENT TOKO -->
  <div class="tab-content" data-tab="toko">
    <section class="manajemen-section">
      <h2>🏪 Management Toko</h2>
      
      <!-- Form Input Toko -->
      <div class="form-menu">
        <h3>➕ Tambah/Edit Toko</h3>
        <div class="form-group">
          <label for="inputIdToko">ID Toko:</label>
          <input type="text" id="inputIdToko" placeholder="Auto-generate" readonly>
        </div>
        <div class="form-group">
          <label for="inputNamaToko">Nama Toko:</label>
          <input type="text" id="inputNamaToko" placeholder="Nama toko">
        </div>
        <div class="form-group">
          <label for="inputAlamatToko">Alamat:</label>
          <textarea id="inputAlamatToko" placeholder="Alamat toko" rows="2"></textarea>
        </div>
        <div class="form-group">
          <label for="inputTeleponToko">Telepon:</label>
          <input type="text" id="inputTeleponToko" placeholder="Nomor telepon">
        </div>
        <div class="form-group">
          <label for="inputStatusToko">Status:</label>
          <select id="inputStatusToko">
            <option value="Aktif">Aktif</option>
            <option value="Nonaktif">Nonaktif</option>
          </select>
        </div>
        <div class="form-actions">
          <button id="btnSimpanToko" class="btn btn-primary">💾 Simpan Toko</button>
          <button id="btnBatalEditToko" class="btn btn-secondary" style="display:none">❌ Batal Edit</button>
        </div>
      </div>

      <!-- Daftar Toko -->
      <div class="daftar-menu">
        <h3>📋 Daftar Toko</h3>
        <div class="table-container">
          <table class="manajemen-table">
            <thead>
              <tr>
                <th>ID Toko</th>
                <th>Nama Toko</th>
                <th>Alamat</th>
                <th>Telepon</th>
                <th>Status</th>
                <th>Aksi</th>
              </tr>
            </thead>
            <tbody id="daftarTokoBody">
              <!-- Data toko akan diisi oleh JavaScript -->
            </tbody>
          </table>
        </div>
      </div>
    </section>
  </div>

  <!-- TAB MANAGEMENT USER -->
  <div class="tab-content" data-tab="user">
    <section class="manajemen-section">
      <h2>👥 Management User</h2>
      
      <!-- Form Input User -->
      <div class="form-menu">
        <h3>➕ Tambah/Edit User</h3>
        <div class="form-group">
          <label for="inputUsername">Username:</label>
          <input type="text" id="inputUsername" placeholder="Username untuk login">
        </div>
        <div class="form-group">
          <label for="inputPassword">Password:</label>
          <input type="password" id="inputPassword" placeholder="Password minimal 4 karakter">
        </div>
        <div class="form-group">
          <label for="inputNamaUser">Nama Lengkap:</label>
          <input type="text" id="inputNamaUser" placeholder="Nama lengkap user">
        </div>
        <div class="form-group">
          <label for="inputTokoUser">Toko:</label>
          <select id="inputTokoUser">
            <option value="">Pilih Toko</option>
          </select>
        </div>
        <div class="form-group">
          <label for="inputRoleUser">Role:</label>
          <select id="inputRoleUser">
            <option value="kasir">Kasir</option>
            <option value="admin">Admin</option>
            <option value="owner">Owner</option>
          </select>
        </div>
        <div class="form-group">
          <label for="inputStatusUser">Status:</label>
          <select id="inputStatusUser">
            <option value="Aktif">Aktif</option>
            <option value="Nonaktif">Nonaktif</option>
          </select>
        </div>
        <div class="form-actions">
          <button id="btnSimpanUser" class="btn btn-primary">💾 Simpan User</button>
          <button id="btnBatalEditUser" class="btn btn-secondary" style="display:none">❌ Batal Edit</button>
          <button id="btnResetPassword" class="btn btn-warning" style="display:none">🔄 Reset Password</button>
        </div>
      </div>

      <!-- Daftar User -->
      <div class="daftar-menu">
        <h3>📋 Daftar User</h3>
        <div class="search-wrap">
          <input type="text" id="searchUserManagement" placeholder="🔍 Cari user..." class="search-input">
        </div>
        <div class="table-container">
          <table class="manajemen-table">
            <thead>
              <tr>
                <th>Username</th>
                <th>Nama Lengkap</th>
                <th>Toko</th>
                <th>Role</th>
                <th>Status</th>
                <th>Aksi</th>
              </tr>
            </thead>
            <tbody id="daftarUserBody">
              <!-- Data user akan diisi oleh JavaScript -->
            </tbody>
          </table>
        </div>
      </div>
    </section>
  </div>

  <!-- TAB LAPORAN -->
  <div class="tab-content" data-tab="laporan">
    <section class="laporan-section">
      <h2>📊 Laporan Transaksi</h2>
      
      <div class="laporan-filter">
        <div class="filter-group">
          <label>Dari Tanggal:</label>
          <input type="date" id="startDate">
        </div>
        <div class="filter-group">
          <label>Sampai Tanggal:</label>
          <input type="date" id="endDate">
        </div>
        <div class="filter-group">
          <label>Toko:</label>
          <select id="filterTokoLaporan">
            <option value="">Semua Toko</option>
          </select>
        </div>
        <div class="filter-group">
          <label>Kasir:</label>
          <select id="filterKasir">
            <option value="">Semua Kasir</option>
          </select>
        </div>
      </div>

      <div class="laporan-actions">
        <button class="btn btn-primary" id="btnLoadLaporan">📥 Muat Laporan</button>
        <button class="btn btn-secondary" id="btnResetFilter">🔄 Reset</button>
        <button class="btn btn-primary" id="btnExportLaporan">📤 Export PDF</button>
      </div>

      <div class="laporan-summary" id="laporanSummary">
        <!-- Summary akan diisi oleh JavaScript -->
      </div>

      <div class="laporan-table-container">
        <table class="laporan-table" id="tblLaporan">
          <thead>
            <tr>
              <th>Tanggal</th>
              <th>ID Transaksi</th>
              <th>Toko</th>
              <th>Kasir</th>
              <th>Total</th>
              <th>Bayar</th>
              <th>Kembali</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody id="laporanBody">
            <!-- Data laporan akan diisi oleh JavaScript -->
          </tbody>
        </table>
      </div>
    </section>
  </div>

  <!-- TAB SETTING -->
  <div class="tab-content" data-tab="setting">
    <section class="setting-section">
      <h2>⚙️ Pengaturan Aplikasi</h2>
      
      <div class="setting-group">
        <h3>🎨 Tampilan</h3>
        
        <div class="setting-item">
          <div class="setting-label">Theme</div>
          <div class="setting-control">
            <select id="settingTheme">
              <option value="dark">Dark</option>
              <option value="light">Light</option>
              <option value="auto">Auto</option>
            </select>
          </div>
        </div>

        <div class="setting-item">
          <div class="setting-label">Warna Aksen</div>
          <div class="setting-control">
            <input type="color" id="settingAccentColor" value="#14ffec">
            <div class="color-preview" id="accentPreview" style="background:#14ffec"></div>
          </div>
        </div>

        <div class="setting-item">
          <div class="setting-label">Warna Aksen Dark</div>
          <div class="setting-control">
            <input type="color" id="settingAccentDark" value="#0d7377">
            <div class="color-preview" id="accentDarkPreview" style="background:#0d7377"></div>
          </div>
        </div>
      </div>

      <div class="setting-group">
        <h3>📱 Aplikasi</h3>
        
        <div class="setting-item">
          <div class="setting-label">Nama Aplikasi</div>
          <div class="setting-control">
            <input type="text" id="settingAppName" value="KASIR WEB" placeholder="Nama aplikasi">
          </div>
        </div>

        <div class="setting-item">
          <div class="setting-label">Footer Struk</div>
          <div class="setting-control">
            <input type="text" id="settingStrukFooter" value="Terima Kasih" placeholder="Pesan footer struk">
          </div>
        </div>
      </div>

      <div class="laporan-actions">
        <button class="btn btn-primary" id="btnSaveSetting">💾 Simpan Setting</button>
        <button class="btn btn-secondary" id="btnResetSetting">🔄 Reset Default</button>
      </div>
    </section>
  </div>
</div>

<script src="script.js"></script>
</body>
</html>
